<h1 class="pageMain">Admin oldal</h1>
<b *ngIf="!isAdmin">Nincs jogosultságod az oldal megtekintéséhez!</b>

<div *ngIf="isAdmin" class="adminSite">
  <app-admin-menu></app-admin-menu>

  <div class="adminContent">
    <h2>Termékek:</h2>
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
          <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Név </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Ár </th>
          <td mat-cell *matCellDef="let element"> {{element.price}} </td>
        </ng-container>

        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Kategória </th>
          <td mat-cell *matCellDef="let element"> {{element.categoryName}} </td>
        </ng-container>

        <ng-container matColumnDef="createdAt">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Létrehozva </th>
          <td mat-cell *matCellDef="let element"> {{element.createdAt}} </td>
        </ng-container>

        <ng-container matColumnDef="updatedAt">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Módosítva </th>
          <td mat-cell *matCellDef="let element"> {{element.updatedAt}} </td>
        </ng-container>

        <ng-container matColumnDef="image">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Kép </th>
          <td mat-cell *matCellDef="let element">
            <img src="{{element.imageData}}"> </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>  </th>
          <td class="actions" mat-cell *matCellDef="let element">
            <div class="action_button">
              <button (click)="deleteProduct($event)">
                <img src="assets/trash-can-icon.png" class="trash_can" id="{{element.id}}">
              </button>
            </div>
            <div class="action_button">
              <button (click)="editProduct($event)">
                <img src="assets/file-edit-icon.png" id="{{element.id}}">
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr class="table-row-design" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <p class="table-msg" *ngIf="msg">{{msg}}</p>
    </div>
    <mat-paginator class="paginator_shadow" #paginator [pageSizeOptions]="[10]" showFirstLastButtons></mat-paginator>
    <button class="add_button" (click)="addProduct()">Termék hozzáadása</button>
  </div>
</div>
